<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configure AWS LightSail CLI | Hongbin&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/blog-vue-press-dev-hbc/favicon.ico">
    <meta name="description" content="\xCC\xCD fill the empty">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/blog-vue-press-dev-hbc/assets/css/0.styles.c0e3c99d.css" as="style"><link rel="preload" href="/blog-vue-press-dev-hbc/assets/js/app.0418dc1b.js" as="script"><link rel="preload" href="/blog-vue-press-dev-hbc/assets/js/3.1c8a2787.js" as="script"><link rel="preload" href="/blog-vue-press-dev-hbc/assets/js/1.3cdefb19.js" as="script"><link rel="preload" href="/blog-vue-press-dev-hbc/assets/js/8.5c65ed74.js" as="script"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/10.5c1836f3.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/11.7df2e90f.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/12.45881b9a.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/13.3325151c.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/14.7c3d1a5c.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/15.8e0e0b64.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/16.d883de14.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/17.ea527396.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/18.ad625142.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/19.19e5071f.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/20.279d05e5.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/21.2391c26f.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/22.128c1817.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/23.daea9976.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/4.aea5c48f.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/5.6bd3b319.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/6.9a207cc0.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/7.8c444d62.js"><link rel="prefetch" href="/blog-vue-press-dev-hbc/assets/js/9.7cff2bf9.js">
    <link rel="stylesheet" href="/blog-vue-press-dev-hbc/assets/css/0.styles.c0e3c99d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-b318bb22><div data-v-b318bb22><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-b318bb22 data-v-b318bb22><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-712cf4e2 data-v-b318bb22 data-v-b318bb22><h3 class="title" style="display:none;" data-v-712cf4e2 data-v-712cf4e2>Hongbin's Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-712cf4e2 data-v-712cf4e2><input type="password" value="" data-v-712cf4e2> <span data-v-712cf4e2>Konck! Knock!</span> <button data-v-712cf4e2>OK</button></label> <div class="footer" style="display:none;" data-v-712cf4e2 data-v-712cf4e2><span data-v-712cf4e2><i class="iconfont reco-theme" data-v-712cf4e2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-712cf4e2>vuePress-theme-reco</a></span> <span data-v-712cf4e2><i class="iconfont reco-copyright" data-v-712cf4e2></i> <a data-v-712cf4e2><span data-v-712cf4e2>Hongbin's Blog</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-b318bb22><header class="navbar" data-v-b318bb22><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog-vue-press-dev-hbc/" class="home-link router-link-active"><img src="/blog-vue-press-dev-hbc/head.png" alt="Hongbin's Blog" class="logo"> <span class="site-name">Hongbin's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/dev-hbc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/article/" class="nav-link"><i class="iconfont undefined"></i>
  article
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/note/" class="nav-link"><i class="iconfont undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/tip/" class="nav-link"><i class="iconfont undefined"></i>
  tip
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/draft/" class="nav-link"><i class="iconfont undefined"></i>
  draft
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/log/" class="nav-link"><i class="iconfont undefined"></i>
  log
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/recette/" class="nav-link"><i class="iconfont undefined"></i>
  recette
</a></li></ul></div></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-b318bb22></div> <aside class="sidebar" data-v-b318bb22><div class="personal-info-wrapper" data-v-713d7156><!----> <h3 class="name" data-v-713d7156>
    Hongbin's Blog
  </h3> <div class="num" data-v-713d7156><div data-v-713d7156><h3 data-v-713d7156>13</h3> <h6 data-v-713d7156>Article</h6></div> <div data-v-713d7156><h3 data-v-713d7156>13</h3> <h6 data-v-713d7156>Tag</h6></div></div> <hr data-v-713d7156></div> <nav class="nav-links"><div class="nav-item"><a href="https://github.com/dev-hbc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/article/" class="nav-link"><i class="iconfont undefined"></i>
  article
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/note/" class="nav-link"><i class="iconfont undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/tip/" class="nav-link"><i class="iconfont undefined"></i>
  tip
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/draft/" class="nav-link"><i class="iconfont undefined"></i>
  draft
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/log/" class="nav-link"><i class="iconfont undefined"></i>
  log
</a></li><li class="dropdown-item"><!----> <a href="/blog-vue-press-dev-hbc/categories/recette/" class="nav-link"><i class="iconfont undefined"></i>
  recette
</a></li></ul></div></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/blog-vue-press-dev-hbc/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Configure AWS LightSail CLI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-vue-press-dev-hbc/views/article/2020/1024-log-aws-configure-lightsail-cli.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog-vue-press-dev-hbc/views/article/2020/1024-log-aws-configure-lightsail-cli.html#_1-install-cli-client" class="sidebar-link">1. Install CLI client</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog-vue-press-dev-hbc/views/article/2020/1024-log-aws-configure-lightsail-cli.html#_2-create-iam-programmatic-user-for-cli" class="sidebar-link">2. Create IAM programmatic user for CLI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog-vue-press-dev-hbc/views/article/2020/1024-log-aws-configure-lightsail-cli.html#_3-configuate-aws-cli" class="sidebar-link">3. Configuate AWS CLI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog-vue-press-dev-hbc/views/article/2020/1024-log-aws-configure-lightsail-cli.html#_4-test" class="sidebar-link">4. Test</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-712cf4e2 data-v-b318bb22><h3 class="title" style="display:none;" data-v-712cf4e2 data-v-712cf4e2>Configure AWS LightSail CLI</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-712cf4e2 data-v-712cf4e2><input type="password" value="" data-v-712cf4e2> <span data-v-712cf4e2>Konck! Knock!</span> <button data-v-712cf4e2>OK</button></label> <div class="footer" style="display:none;" data-v-712cf4e2 data-v-712cf4e2><span data-v-712cf4e2><i class="iconfont reco-theme" data-v-712cf4e2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-712cf4e2>vuePress-theme-reco</a></span> <span data-v-712cf4e2><i class="iconfont reco-copyright" data-v-712cf4e2></i> <a data-v-712cf4e2><span data-v-712cf4e2>Hongbin's Blog</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-b318bb22><main class="page"><div class="page-title" style="display:none;"><h1>Configure AWS LightSail CLI</h1> <hr> <div data-v-a71c92f8><i class="iconfont reco-account" data-v-a71c92f8><span data-v-a71c92f8>Hongbin</span></i> <i class="iconfont reco-date" data-v-a71c92f8><span data-v-a71c92f8>2020-10-24</span></i> <!----> <i class="iconfont reco-tag tags" data-v-a71c92f8><span class="tag-item" data-v-a71c92f8>aws</span><span class="tag-item" data-v-a71c92f8>LightSail</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>1. environment: win10, aws-cli-v2
2. currently, IAM permission boundary is not useful for litmitting the use of LightSail cli.
3. currently, aws-cli-v2 `aws configure` command just overwrite the claimed para in `credential` file and this may cause problem when you didn't remove your previous credential before configuration.
4. `ca-central-1a`, the `a` is the `availability zone`.
5. command for testing: aws lightsail get-instance-metric-data --instance-name [OMMITTED] --period 60 --metric-name CPUUtilization --start-time 1603584900 --unit Percent --end-time 1603600522  --statistics Average
6. To Migrate LightSail Instance, coping the snapshot to the target region
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_1-install-cli-client"><a href="#_1-install-cli-client" class="header-anchor">#</a> 1. Install CLI client</h2> <p><img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-1-install-cli.04f99aac.jpg" alt="image"></p> <p>I already installed cli tools before. The upper one is the recent package I used and the lower one is the old package from 2018.</p> <h2 id="_2-create-iam-programmatic-user-for-cli"><a href="#_2-create-iam-programmatic-user-for-cli" class="header-anchor">#</a> 2. Create IAM programmatic user for CLI</h2> <p>Then cli needs an account to access LightSail resources. I was following this document: <a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/lightsail-how-to-set-up-access-keys-to-use-sdk-api-cli" target="_blank" rel="noopener noreferrer">AWS LightSail DOCS - set up access keys to use sdk api cli<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. So go to IAM to create one and the steps were as following.</p> <p><img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-2-user.601fc3cd.jpg" alt="image"> <img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-3-access-type.2fe94d46.png" alt="image"> <img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-4-user-permissions.a302c140.jpg" alt="image"></p> <p>What I care here is the permission boundary setting. If it is not set then you will have a notice in the review section of creating user. So... what they have as permission boundaries? Let's see......</p> <p><img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-5-permission-boundary-fullac.1d8389db.jpg" alt="image"> <img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-6-pboundary-lightexport.24c144b3.jpg" alt="image"></p> <p><strong>Permission Boundary - LightSail Full Access</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Sid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VisualEditor0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lightsail:*&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>Permission Boundary - LightSail Export</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;iam:DeleteServiceLinkedRole&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;iam:GetServiceLinkedRoleDeletionStatus&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arn:aws:iam::*:role/aws-service-role/lightsail.amazonaws.com/AWSServiceRoleForLightsail*&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;ec2:CopySnapshot&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;ec2:DescribeSnapshots&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;ec2:CopyImage&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;ec2:DescribeImages&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>As you can see, the first one is merely usable and the second one is not applicable. If I want to have a permission boundary, so the option given is to confirm the IAM have a full access? Hmmmm.... funny 😦.... So at the end I didn't set a permission boundary.</p> <p>At the end, the access key will be provided at an one-time page. Just take that csv file.</p> <h2 id="_3-configuate-aws-cli"><a href="#_3-configuate-aws-cli" class="header-anchor">#</a> 3. Configuate AWS CLI</h2> <p>Then open up a &quot;prompt&quot; and call configure command: <code>aws configure</code>.
<img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-7-cli-aws-configure.9a419850.jpg" alt="image"></p> <p>But I had made 2 mistakes when configuring. One was putting a wrong region name. Second was not putting a default output format. The correct region in my case is <code>ca-central-1</code> without that &quot;a&quot;. (so when to specify the availability zone?). If putting an availability zone to region para, an error will happen when using cli, which is <code>Could not connect to the endpoint URL: &quot;https://lightsail.ca-central-1a.amazonaws.com/&quot;</code>.</p> <p>And I didn't have the chance to see what exceptions second one will cause since I realized the problem when solving the first one.</p> <p>AWS has multiple resources having availability zone settings.</p> <ol><li><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html" target="_blank" rel="noopener noreferrer">EC2 Availability Zone<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html" target="_blank" rel="noopener noreferrer">RDS Availability Zone<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/understanding-regions-and-availability-zones-in-amazon-lightsail" target="_blank" rel="noopener noreferrer">LightSail Availability Zone<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <p>And the way to migrate LightSail accross different regions is basically to copy snapshots.</p> <p>Ref: <a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-copying-snapshots-from-one-region-to-another" target="_blank" rel="noopener noreferrer">Copying snapshots from one AWS Region to another in Amazon Lightsail<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>But even I corrently input those para, there's still an error: <code>The security token included in the request is invalid</code>. So I first searched online, but everyone is telling you need to set up security token when having MFA settings. But I didn't enable MFA for this account. Then I checked credential file and fount out there is an redundant para 😦..... guess what? Cli configure command is too lazy to delete redundant para from my previous default credential para when configuring but it just want to use all para when being called.</p> <p><img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-8-redundant-para.23b1a585.jpg" alt="image"></p> <h2 id="_4-test"><a href="#_4-test" class="header-anchor">#</a> 4. Test</h2> <p>The command I use to test availability of cli is:
<img src="/blog-vue-press-dev-hbc/assets/img/1024-1-awslscli-9-test.42c48548.jpg" alt="image"></p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/blog-vue-press-dev-hbc/assets/js/app.0418dc1b.js" defer></script><script src="/blog-vue-press-dev-hbc/assets/js/3.1c8a2787.js" defer></script><script src="/blog-vue-press-dev-hbc/assets/js/1.3cdefb19.js" defer></script><script src="/blog-vue-press-dev-hbc/assets/js/8.5c65ed74.js" defer></script>
  </body>
</html>
